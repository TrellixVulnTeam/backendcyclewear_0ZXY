{"ast":null,"code":"var _jsxFileName = \"C:\\\\ProyectosProductivos\\\\backendcyclewear\\\\backend\\\\src\\\\components\\\\sales\\\\CreateInvoice.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect, useState } from 'react';\nimport ReactHTMLTableToExcel from \"react-html-table-to-excel\";\nimport Breadcrumb from \"../common/breadcrumb\";\nimport MaterialTable from \"material-table\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport axios from \"axios\";\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport EditAttributesIcon from '@material-ui/icons/EditAttributes';\nimport Moment from \"moment\";\nimport swal from \"sweetalert\";\nimport { Card, CardBody, CardHeader, Col, Container, Form, FormGroup, Input, Label, Row, Button, Modal, ModalFooter, ModalHeader, ModalBody } from \"reactstrap\"; //import Loading from \"../../../components/elements/Loading\";\n\nimport EditIcon from '@material-ui/icons/Edit';\nimport imagen1 from \"../../assets/images/imagenes/bicicleta.jpg\";\nimport Loading from '../elements/Loading/Loading';\nimport ListarProductos from '../products/physical/ListarProductos';\n/*import imagen2 from \"../../../assets/images/imagenes/bolsa.jpg\";\r\nimport imagen3 from \"../../../assets/images/imagenes/camisetas.jpg\";\r\nimport imagen4 from \"../../../assets/images/imagenes/camisetas1.jpg\";\r\nimport imagen5 from \"../../../assets/images/imagenes/caramañola.jpg\";\r\nimport imagen6 from \"../../../assets/images/imagenes/caramañola1.jpg\";\r\nimport imagen7 from \"../../../assets/images/imagenes/caramañola2.jpg\";\r\nimport imagen8 from \"../../../assets/images/imagenes/casco1.jpg\";\r\nimport imagen9 from \"../../../assets/images/imagenes/sillin.jpg\";\r\nimport imagen10 from \"../../../assets/images/imagenes/sillin1.jpg\";\r\nimport imagen11 from \"../../../assets/images/imagenes/sillin3.jpg\";\r\nimport imagen12 from \"../../../assets/images/imagenes/zapatillas.jpg\";\r\nimport imagen13 from \"../../../assets/images/imagenes/zapatillas1.jpg\";\r\nimport imagen14 from \"../../../assets/images/imagenes/zapatillas2.jpg\";\r\nimport imagen15 from \"../../../assets/images/imagenes/zapatillas3.jpg\";\r\nimport imagen16 from \"../../../assets/images/imagenes/casco.jpg\";\r\nimport { CommentSharp } from '@material-ui/icons';*/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CreateInvoice(props) {\n  _s();\n\n  const [formData, setFormData] = useState(defaultValueForm());\n  const [lisPedidos, setListPedidos] = useState([]);\n  const [lisProductosSiigo, setListProductosSiigo] = useState([]);\n  const [listIdentificacion, setListIdentificacion] = useState([]);\n  const [listDetalleFacturas, setListDetalleFacturas] = useState([]);\n  const [fechaFacturas, setFechaFacturas] = useState(false);\n  const [tipoTercero, setTipoTercero] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const fechaactual = Moment(new Date()).format(\"YYYY-MM-DD\"); //const fechaactual = Moment(new Date()).format(\"YYYY-MM-DD HH:mm:ss\");\n\n  const [datosClientesFacturas, setDatosClientesFacturas] = useState([]);\n  const [datos, setDatos] = useState([]);\n  const dispatch = useDispatch();\n  const [leeFacturas, setLeeFacturas] = useState(false);\n  const [invoice, setInvoice] = useState([105528, 105387, 105466, 105473, 105490, 105497, 105499, 105500, 105507, 105518, 105520, 105522, 105529, 105530, 105531, 105536, 105537, 105541, 105542, 105544, 105546, 105552, 105553, 105561, 105567, 105568, 105572, 105574, 105576, 105577, 105578, 105579, 105580, 105582, 105583, 105584, 105587, 105596, 105598, 105601, 105604, 105605, 105609, 105613, 105617, 105621, 105623, 105624, 105626, 105627, 105628, 105629, 105642, 105643, 105654, 105655, 105657, 105659, 105661, 105665, 105666, 105670, 105672, 105673, 105674, 105676, 105679, 105688, 105696, 105700, 105708, 105710, 105718, 105722, 105725, 105726, 105728, 105730, 105731, 105735, 105737, 105742, 105744, 105747, 105750, 105754, 105756, 105757, 105758, 105762, 105764, 105770, 105771, 105776, 105778, 105779, 105782, 105788, 105791, 105798, 105799, 105801, 105802, 105806, 105813, 105814, 105816, 105817, 105819, 105821, 105827, 105828, 105829, 105831, 105834, 105836, 105836, 105840, 105842, 105843, 105845, 105846, 105847, 105854, 105855, 105860, 105862, 105863, 105873, 105875, 105878, 105880, 105882, 105884, 105888, 105896, 105897, 105898, 105904, 105910, 105911, 105913, 105915, 105918, 105924, 105927, 105928, 105934, 105937, 105938, 105940, 105948, 105953, 105956, 105957, 105959, 105960, 105967, 105968, 105973, 105974, 105975, 105980, 105984, 105985, 105988, 105989, 105991, 105994, 105998, 105999, 106007, 106009, 106011, 106017, 106022, 106026, 106040, 106042, 106058, 106061, 106066, 106067, 106068, 106080, 106082, 106084, 106085, 106089, 106090, 106110, 106116, 106121, 106126, 106129, 106131, 106138, 106140, 106141, 106143, 106146, 106150, 106152, 106156, 106157, 106161, 106163, 106166, 106170, 106174, 106175, 106176, 106177, 106180, 106181, 106184, 106188, 106195, 106205, 106209, 106209, 106218, 106220, 106225, 106231, 106236, 106240, 106255, 106262, 106263, 106268, 106272, 106273, 106275, 106278, 106279, 106286, 106287, 106290, 106294, 106296, 106300, 106302, 106304, 106308, 106309, 106312, 106313, 106319, 106322, 106325, 106334, 106342, 106349, 106352, 106353, 106359, 106360, 106373, 106376, 106386, 106393, 106394, 106395, 106398]);\n  const [genera, setGenera] = useState([]); //console.log(\"IMAGEN : \", imagen1)\n\n  useEffect(() => {\n    if (fechaFacturas) {\n      const newDet = [];\n      let contador = invoice.length;\n      let contadordos = 0;\n      invoice && invoice.map((row, index) => {\n        contadordos = contadordos + 1;\n\n        const leeFacturas = async () => {\n          //setLoading(true);\n          const params = {\n            pedido: row\n          }; //console.log(\"FECHA \", params);\n\n          await axios({\n            method: 'get',\n            url: 'https://sitbusiness.co/cyclewear/api/209',\n            params\n          }).then(res => {\n            let item = {\n              id_fact: res.data[0].id_fact,\n              id_siigo: res.data[0].id_siigo,\n              comprobante: res.data[0].comprobante,\n              prefijo: res.data[0].prefijo,\n              facturasiigo: res.data[0].facturasiigo,\n              fechafactura: res.data[0].fechafactura,\n              idcliente: res.data[0].idcliente,\n              valorfactura: res.data[0].valorfactura,\n              descuento: res.data[0].descuento,\n              cost_center: res.data[0].cost_center,\n              seller: res.data[0].seller,\n              valorimpuesto: res.data[0].valorimpuesto,\n              porcentajeimpto: res.data[0].porcentajeimpto,\n              observaciones: res.data[0].observaciones\n            }; //console.log(\"ID FACTURAS LEIDAS : \", item);\n\n            newDet.push(item);\n          }).catch(function (error) {\n            console.log(\"ERROR LEYENDO FACTURAS\");\n          });\n        };\n\n        leeFacturas();\n\n        if (contador == contadordos) {\n          console.log(\"ID FACTURAS LEIDAS : \", newDet);\n          setListPedidos(newDet);\n        }\n      });\n      setLoading(true);\n\n      const leeProductosSiigo = async () => {\n        await axios({\n          method: 'post',\n          url: 'https://sitbusiness.co/cyclewear/api/27'\n        }).then(res => {\n          setLoading(false);\n          setListProductosSiigo(res.data); //setLeeFacturas(true);\n        }).catch(function (error) {\n          console.log(\"ERROR LEYENDO FACTURAS\");\n        });\n      };\n\n      leeProductosSiigo();\n    }\n  }, [fechaFacturas]);\n  useEffect(() => {\n    if (leeFacturas) {\n      let contador = 0;\n      console.log(\"NUMERO DE PEDIDOS : \", lisPedidos.length);\n      setLoading(true);\n      const newDetPed = [];\n      lisPedidos && lisPedidos.map((facturas, index) => {\n        contador = contador + 1;\n\n        const leer = async () => {\n          const params = {\n            factura: facturas.id_fact\n          }; //console.log(\"LISTADO PEDIDOS : \", params)\n\n          await axios({\n            method: 'get',\n            url: 'https://sitbusiness.co/cyclewear/api/202',\n            params\n          }).then(res => {\n            //console.log(\"DETALLE PEDIDOD : \", res.data.included);\n            res.data.included && res.data.included.map((itempedido, index) => {\n              //console.log(\"ITEM PEDIDOS : \", itempedido);\n              let codigoproducto;\n              let idimpuesto;\n              lisProductosSiigo && lisProductosSiigo.forEach(producto => {\n                if (itempedido.attributes.variant_sku == producto.sku) {\n                  codigoproducto = producto.codigo;\n                  idimpuesto = producto.tipoimpuesto;\n                }\n              });\n\n              if (itempedido.type == 'line_items') {\n                let item = {\n                  itempedido: itempedido.id,\n                  pedido: itempedido.attributes.invoice_id,\n                  advert_name: itempedido.attributes.advert_name,\n                  advert_code: itempedido.attributes.advert_code,\n                  brand_name: itempedido.attributes.brand_name,\n                  price: itempedido.attributes.price,\n                  quantity: itempedido.attributes.quantity,\n                  subtotal: itempedido.attributes.subtotal,\n                  tax_total: itempedido.attributes.tax_total,\n                  taxon_name: itempedido.attributes.taxon_name,\n                  total: itempedido.attributes.total,\n                  variant_barcode: itempedido.attributes.variant_barcode,\n                  variant_name: itempedido.attributes.variant_name,\n                  variant_sku: itempedido.attributes.variant_sku,\n                  codigoproductosiigo: codigoproducto,\n                  tipoimpuesto: idimpuesto,\n                  observaciones: \"\"\n                }; //console.log(\"ITEM PEDIDO : \", res.data)\n\n                newDetPed.push(item);\n              }\n            });\n          }).catch(function (error) {\n            console.log(\"ERROR LEYENDO FACTURAS\");\n          });\n        };\n\n        leer();\n\n        if (contador === 263) {\n          setLoading(false);\n        }\n      });\n      setListDetalleFacturas(newDetPed);\n      setLeeFacturas(false);\n    }\n  }, [leeFacturas]);\n\n  const validarDatos = () => {\n    //console.log(\"Productos  : \", lisProductosSiigo);\n    const newDetId = [];\n    let contador = 0;\n    let contadordos = lisPedidos.length;\n    setLeeFacturas(true);\n  };\n\n  const crearFacturas = () => {\n    console.log(\"FORM DATA  : \", formData); //    listDetalleFacturas && listDetalleFacturas.forEach((row) => {\n    //setLoading(true);\n\n    return;\n    genera && genera.map(pedidofacturar => {\n      console.log(\"PEDIDO FACTURAR : \", pedidofacturar);\n      lisPedidos && lisPedidos.map((facturas, index) => {\n        if (facturas.id_fact == pedidofacturar) {\n          //var fecha = new Date();\n          let date = new Date(facturas.fechafactura);\n          let fecha = String(date.getFullYear() + '-' + String(date.getMonth() + 1).padStart(2, '0') + '-' + date.getDate()).padStart(2, '0'); //contador = contador + 1;\n\n          listDetalleFacturas && listDetalleFacturas.map((items, row) => {\n            if (items.pedido == facturas.id_fact) {\n              let valor = 0;\n              let valorpayment = 0;\n              let valoritem = 0;\n              let descuento = 0;\n\n              if (items.tipoimpuesto == 745) {\n                valor = items.price / 1.19;\n                valoritem = (valor - facturas.descuento * -1).toFixed(4);\n                valorpayment = facturas.valorfactura;\n                descuento = 0;\n              } else {\n                valoritem = items.price;\n                valoritem = (items.price - facturas.descuento * -1).toFixed(0);\n                valorpayment = valoritem;\n                descuento = 0;\n              } // descuento = (((items.price-(items.price / 1.19))/items.price)*100).toFixed(4);\n\n\n              const leer = async () => {\n                let params = {\n                  id: 37799,\n                  date: \"2022-06-17\",\n                  //fecha\n                  identification: facturas.idcliente,\n                  cost_center: facturas.cost_center,\n                  seller: facturas.seller,\n                  code: items.codigoproductosiigo,\n                  description: items.advert_name,\n                  quantity: items.quantity,\n                  discount: descuento,\n                  price: valoritem,\n                  value: valorpayment,\n                  idpayments: 7500,\n                  due_date: \"2022-06-17\",\n                  // fecha\n                  idtaxes: items.tipoimpuesto,\n                  observations: facturas.observaciones\n                };\n                console.log(\"DATOS A FACTURAR : \", params);\n                await axios({\n                  method: 'get',\n                  url: 'https://sitbusiness.co/cyclewear/api/729',\n                  params\n                }).then(res => {\n                  setLoading(false);\n                  console.log(\"DATOS RESPONSE : \", res);\n                }).catch(function (error) {\n                  console.log(\"ERROR LEYENDO FACTURAS\");\n                });\n              };\n\n              leer();\n            }\n          });\n        }\n      });\n    });\n  };\n\n  const sleep = () => setTimeout(() => {\n    console.log(\"Esperando!\");\n  }, 100); //const leerDatosFacturas = async () => {\n\n\n  const actualizarDatosBD = () => {\n    setLoading(true); //console.log(\"TERCEROS CREADOS : \", listaTercerosCreados);\n    //console.log(\"FACTURAS LEIDAS : \", datosClientesFacturas);\n    //console.log(\"ENCABEZADO PEDIDOS : \", lisPedidos);\n    //console.log(\"DETALLE PEDIDOS : \", listDetalleFacturas);\n\n    let longitud = lisPedidos.length;\n    let contador = 0;\n    lisPedidos && lisPedidos.forEach(row => {\n      const leerPedidos = async () => {\n        contador = contador + 1; //let anno = row.fechafactura.getFullYear();\n        //let mes = row.fechafactura.getMonth();\n        //let dia = row.fechafactura. getDate();\n        //console.log(\"VALOR FECHA : \", Moment.format(\"YYYY/MM/DD\", row.fechafactura));\n\n        const params = {\n          id_fact: row.id_fact,\n          id_siigo: row.id_siigo,\n          comprobante: row.comprobante,\n          prefijo: row.prefijo,\n          facturasiigo: row.facturasiigo,\n          fechafactura: \"2022-06-17\",\n          //row.fechafactura,\n          idcliente: row.idcliente,\n          valorfactura: row.valorfactura,\n          descuento: row.descuento,\n          cost_center: row.cost_center,\n          seller: row.seller,\n          valorimpuesto: row.valorimpuesto,\n          porcentajeimpto: row.porcentajeimpto,\n          Observaciones: \"\"\n        };\n        await axios({\n          method: 'post',\n          url: 'https://sitbusiness.co/cyclewear/api/206',\n          params\n        }).then(res => {\n          if (contador === longitud) {\n            console.log(\"VALOR RESPONSE : \", res);\n            setLoading(false);\n          }\n        }).catch(function (error) {\n          console.log(\"ERROR LEYENDO FACTURAS\");\n        });\n      };\n\n      leerPedidos();\n    });\n    contador = 0;\n    longitud = listDetalleFacturas.length;\n    listDetalleFacturas && listDetalleFacturas.forEach(row => {\n      const leerItems = async () => {\n        contador = contador + 1; //let anno = row.fechafactura.getFullYear();\n        //let mes = row.fechafactura.getMonth();\n        //let dia = row.fechafactura. getDate();\n        //console.log(\"VALOR FECHA : \", Moment.format(\"YYYY/MM/DD\", row.fechafactura));\n\n        const params = {\n          itempedido: row.itempedido,\n          pedido: row.pedido,\n          advert_name: row.advert_name,\n          advert_code: row.advert_code,\n          brand_name: row.brand_name,\n          proce: row.price,\n          quantity: row.quantity,\n          subtotal: row.subtotal,\n          tax_total: row.tax_total,\n          taxon_name: row.taxon_name,\n          total: row.total,\n          variant_barcode: row.variant_barcode,\n          variant_name: row.variant_name,\n          variant_sku: row.variant_sku,\n          codigoproductosiigo: row.codigoproductosiigo,\n          observaciones: \"\"\n        };\n        await axios({\n          method: 'post',\n          url: 'https://sitbusiness.co/cyclewear/api/207',\n          params\n        }).then(res => {\n          if (contador === longitud) {\n            console.log(\"VALOR RESPONSE : \", res);\n            setLoading(false);\n          }\n        }).catch(function (error) {\n          console.log(\"ERROR LEYENDO FACTURAS\");\n        });\n      };\n\n      leerItems();\n    });\n  };\n\n  const onChange = e => {\n    setFormData({ ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleChangeFecha = async selectedOptions => {\n    const newDet = []; //console.log(\"FECHA : \", selectedOptions)\n\n    setFechaFacturas(selectedOptions);\n    let contador = 0;\n    lisPedidos && lisPedidos.map((facturas, index) => {\n      let item = {\n        id: facturas.id\n      };\n      newDet.push(item);\n    });\n    setDatos(newDet); //console.log(\"PEDIDOS : \", newDet)\n  };\n\n  const handleChangeTipoTercero = async selectedOptions => {\n    setTipoTercero(selectedOptions);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 24\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-30 ml-10\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          xl: 2,\n          lg: 2,\n          md: 2,\n          xs: 2,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tama\\xF1ofuentetercero\",\n            children: \"Fecha facturas:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xl: 3,\n          lg: 3,\n          md: 3,\n          xs: 3,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-horizontal auth-form\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"fecha\",\n                type: \"date\",\n                className: \"form-control\",\n                placeholder: \"Ingrese fecha\",\n                id: \"exampleInputEmail12\",\n                onChange: e => handleChangeFecha(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onChange: onChange,\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          xl: 2,\n          lg: 2,\n          md: 2,\n          xs: 2,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tama\\xF1ofuentetercero\",\n            children: \"Pedido Uno:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xl: 1,\n          lg: 1,\n          md: 1,\n          xs: 1,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-horizontal auth-form\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"pedidouno\",\n                type: \"text\",\n                placeholder: \"Ingrese Pedido\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xl: 2,\n          lg: 2,\n          md: 2,\n          xs: 2,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tama\\xF1ofuentetercero\",\n            children: \"Pedido Dos:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xl: 1,\n          lg: 1,\n          md: 1,\n          xs: 1,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-horizontal auth-form\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"pedidouno\",\n                type: \"text\",\n                placeholder: \"Ingrese Pedido\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 490,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xl: 2,\n          lg: 2,\n          md: 2,\n          xs: 2,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tama\\xF1ofuentetercero\",\n            children: \"Pedido Uno:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xl: 1,\n          lg: 1,\n          md: 1,\n          xs: 1,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-horizontal auth-form\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"pedidouno\",\n                type: \"text\",\n                placeholder: \"Ingrese Pedido\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: crearFacturas,\n        children: \"Procesar Pedidos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 520,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        xl: 3,\n        lg: 3,\n        md: 3,\n        xs: 3,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"botoncrearcliente\",\n          color: \"primary\",\n          children: /*#__PURE__*/_jsxDEV(ReactHTMLTableToExcel, {\n            table: \"ubicacionesequipos\",\n            filename: \"DatosClientesCWR\",\n            sheet: \"Sheet\",\n            buttonText: \"Exportar a Excel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        xl: 3,\n        lg: 3,\n        md: 3,\n        xs: 3,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"botoncrearcliente\",\n          color: \"primary\",\n          onClick: validarDatos,\n          children: \"Validar Datos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        xl: 3,\n        lg: 3,\n        md: 3,\n        xs: 3,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"botoncrearcliente\",\n          color: \"primary\",\n          onClick: actualizarDatosBD,\n          children: \"Actualizar BD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        xl: 3,\n        lg: 3,\n        md: 3,\n        xs: 3,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"botoncrearcliente\",\n          color: \"primary\",\n          onClick: crearFacturas,\n          children: \"Crear Facturas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 549,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      id: \"ubicacionesequipos\",\n      className: \"table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"IDENTIFICACION\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"PEDIDO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"FECHA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"NOMBRE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"APELLIDO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"EMAIL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"CIUDAD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"TELEFONO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"DIRECCION\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ESTADO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"TOTAL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: datosClientesFacturas && datosClientesFacturas.map((facturas, index) => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: facturas.identification\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 573,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: facturas.pedido\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 574,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: facturas.fecha\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 575,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: facturas.apellido\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: facturas.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: facturas.ciudad\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 578,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: facturas.telefono\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 579,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: facturas.direccion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: facturas.estado\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: facturas.valor\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 37\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 433,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CreateInvoice, \"W+Vfq5QdwM7kDVwsV8DpOYNC5Vc=\", false, function () {\n  return [useDispatch];\n});\n\n_c = CreateInvoice;\n\nfunction defaultValueForm() {\n  return {\n    pedidouno: 0,\n    pedidodos: 0,\n    pedidotres: 0,\n    pedidocuatro: 0,\n    pedidocinco: 0\n  };\n}\n\nexport default CreateInvoice;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateInvoice\");","map":{"version":3,"sources":["C:/ProyectosProductivos/backendcyclewear/backend/src/components/sales/CreateInvoice.js"],"names":["React","Fragment","useEffect","useState","ReactHTMLTableToExcel","Breadcrumb","MaterialTable","useDispatch","useSelector","axios","CancelIcon","EditAttributesIcon","Moment","swal","Card","CardBody","CardHeader","Col","Container","Form","FormGroup","Input","Label","Row","Button","Modal","ModalFooter","ModalHeader","ModalBody","EditIcon","imagen1","Loading","ListarProductos","CreateInvoice","props","formData","setFormData","defaultValueForm","lisPedidos","setListPedidos","lisProductosSiigo","setListProductosSiigo","listIdentificacion","setListIdentificacion","listDetalleFacturas","setListDetalleFacturas","fechaFacturas","setFechaFacturas","tipoTercero","setTipoTercero","loading","setLoading","fechaactual","Date","format","datosClientesFacturas","setDatosClientesFacturas","datos","setDatos","dispatch","leeFacturas","setLeeFacturas","invoice","setInvoice","genera","setGenera","newDet","contador","length","contadordos","map","row","index","params","pedido","method","url","then","res","item","id_fact","data","id_siigo","comprobante","prefijo","facturasiigo","fechafactura","idcliente","valorfactura","descuento","cost_center","seller","valorimpuesto","porcentajeimpto","observaciones","push","catch","error","console","log","leeProductosSiigo","newDetPed","facturas","leer","factura","included","itempedido","codigoproducto","idimpuesto","forEach","producto","attributes","variant_sku","sku","codigo","tipoimpuesto","type","id","invoice_id","advert_name","advert_code","brand_name","price","quantity","subtotal","tax_total","taxon_name","total","variant_barcode","variant_name","codigoproductosiigo","validarDatos","newDetId","crearFacturas","pedidofacturar","date","fecha","String","getFullYear","getMonth","padStart","getDate","items","valor","valorpayment","valoritem","toFixed","identification","code","description","discount","value","idpayments","due_date","idtaxes","observations","sleep","setTimeout","actualizarDatosBD","longitud","leerPedidos","Observaciones","leerItems","proce","onChange","e","target","name","handleChangeFecha","selectedOptions","handleChangeTipoTercero","apellido","email","ciudad","telefono","direccion","estado","pedidouno","pedidodos","pedidotres","pedidocuatro","pedidocinco"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\r\nimport ReactHTMLTableToExcel from \"react-html-table-to-excel\";\r\nimport Breadcrumb from \"../common/breadcrumb\";\r\nimport MaterialTable from \"material-table\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport EditAttributesIcon from '@material-ui/icons/EditAttributes';\r\nimport Moment from \"moment\";\r\nimport swal from \"sweetalert\";\r\nimport {\r\n    Card, CardBody, CardHeader, Col, Container, Form, FormGroup, Input, Label, Row, Button, Modal, ModalFooter,\r\n    ModalHeader, ModalBody\r\n} from \"reactstrap\";\r\n//import Loading from \"../../../components/elements/Loading\";\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport imagen1 from \"../../assets/images/imagenes/bicicleta.jpg\";\r\nimport Loading from '../elements/Loading/Loading';\r\nimport ListarProductos from '../products/physical/ListarProductos';\r\n\r\n/*import imagen2 from \"../../../assets/images/imagenes/bolsa.jpg\";\r\nimport imagen3 from \"../../../assets/images/imagenes/camisetas.jpg\";\r\nimport imagen4 from \"../../../assets/images/imagenes/camisetas1.jpg\";\r\nimport imagen5 from \"../../../assets/images/imagenes/caramañola.jpg\";\r\nimport imagen6 from \"../../../assets/images/imagenes/caramañola1.jpg\";\r\nimport imagen7 from \"../../../assets/images/imagenes/caramañola2.jpg\";\r\nimport imagen8 from \"../../../assets/images/imagenes/casco1.jpg\";\r\nimport imagen9 from \"../../../assets/images/imagenes/sillin.jpg\";\r\nimport imagen10 from \"../../../assets/images/imagenes/sillin1.jpg\";\r\nimport imagen11 from \"../../../assets/images/imagenes/sillin3.jpg\";\r\nimport imagen12 from \"../../../assets/images/imagenes/zapatillas.jpg\";\r\nimport imagen13 from \"../../../assets/images/imagenes/zapatillas1.jpg\";\r\nimport imagen14 from \"../../../assets/images/imagenes/zapatillas2.jpg\";\r\nimport imagen15 from \"../../../assets/images/imagenes/zapatillas3.jpg\";\r\nimport imagen16 from \"../../../assets/images/imagenes/casco.jpg\";\r\nimport { CommentSharp } from '@material-ui/icons';*/\r\n\r\nfunction CreateInvoice(props) {\r\n    const [formData, setFormData] = useState(defaultValueForm());\r\n    const [lisPedidos, setListPedidos] = useState([]);\r\n    const [lisProductosSiigo, setListProductosSiigo] = useState([]);\r\n    const [listIdentificacion, setListIdentificacion] = useState([]);\r\n    const [listDetalleFacturas, setListDetalleFacturas] = useState([]);\r\n    const [fechaFacturas, setFechaFacturas] = useState(false);\r\n    const [tipoTercero, setTipoTercero] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const fechaactual = Moment(new Date()).format(\"YYYY-MM-DD\");\r\n    //const fechaactual = Moment(new Date()).format(\"YYYY-MM-DD HH:mm:ss\");\r\n    const [datosClientesFacturas, setDatosClientesFacturas] = useState([]);\r\n    const [datos, setDatos] = useState([]);\r\n    const dispatch = useDispatch();\r\n    const [leeFacturas, setLeeFacturas] = useState(false);\r\n    const [invoice, setInvoice] = useState([\r\n        105528, 105387, 105466, 105473, 105490, 105497, 105499, 105500, 105507, 105518, 105520, 105522, 105529, 105530, 105531, 105536,\r\n        105537, 105541, 105542, 105544, 105546, 105552, 105553, 105561, 105567, 105568, 105572, 105574, 105576, 105577, 105578, 105579,\r\n        105580, 105582, 105583, 105584, 105587, 105596, 105598, 105601, 105604, 105605, 105609, 105613, 105617, 105621, 105623, 105624,\r\n        105626, 105627, 105628, 105629, 105642, 105643, 105654, 105655, 105657, 105659, 105661, 105665, 105666, 105670, 105672, 105673,\r\n        105674, 105676, 105679, 105688, 105696, 105700, 105708, 105710, 105718, 105722, 105725, 105726, 105728, 105730, 105731, 105735,\r\n        105737, 105742, 105744, 105747, 105750, 105754, 105756, 105757, 105758, 105762, 105764, 105770, 105771, 105776, 105778, 105779,\r\n        105782, 105788, 105791, 105798, 105799, 105801, 105802, 105806, 105813, 105814, 105816, 105817, 105819, 105821, 105827, 105828,\r\n        105829, 105831, 105834, 105836, 105836, 105840, 105842, 105843, 105845, 105846, 105847, 105854, 105855, 105860, 105862, 105863,\r\n        105873, 105875, 105878, 105880, 105882, 105884, 105888, 105896, 105897, 105898, 105904, 105910, 105911, 105913, 105915, 105918,\r\n        105924, 105927, 105928, 105934, 105937, 105938, 105940, 105948, 105953, 105956, 105957, 105959, 105960, 105967, 105968, 105973,\r\n        105974, 105975, 105980, 105984, 105985, 105988, 105989, 105991, 105994, 105998, 105999, 106007, 106009, 106011, 106017, 106022,\r\n        106026, 106040, 106042, 106058, 106061, 106066, 106067, 106068, 106080, 106082, 106084, 106085, 106089, 106090, 106110, 106116,\r\n        106121, 106126, 106129, 106131, 106138, 106140, 106141, 106143, 106146, 106150, 106152, 106156, 106157, 106161, 106163, 106166,\r\n        106170, 106174, 106175, 106176, 106177, 106180, 106181, 106184, 106188, 106195, 106205, 106209, 106209, 106218, 106220, 106225,\r\n        106231, 106236, 106240, 106255, 106262, 106263, 106268, 106272, 106273, 106275, 106278, 106279, 106286, 106287, 106290, 106294,\r\n        106296, 106300, 106302, 106304, 106308, 106309, 106312, 106313, 106319, 106322, 106325, 106334, 106342, 106349, 106352, 106353,\r\n        106359, 106360, 106373, 106376, 106386, 106393, 106394, 106395, 106398]);\r\n\r\n    const [genera, setGenera] = useState([])\r\n\r\n    //console.log(\"IMAGEN : \", imagen1)\r\n\r\n    useEffect(() => {\r\n\r\n        if (fechaFacturas) {\r\n            const newDet = [];\r\n            let contador = invoice.length;\r\n            let contadordos = 0;\r\n            invoice && invoice.map((row, index) => {\r\n                contadordos = contadordos + 1;\r\n                const leeFacturas = async () => {\r\n                    //setLoading(true);\r\n                    const params = {\r\n                        pedido: row\r\n                    }\r\n                    //console.log(\"FECHA \", params);\r\n                    await axios({\r\n                        method: 'get',\r\n                        url: 'https://sitbusiness.co/cyclewear/api/209', params\r\n                    }).then(res => {\r\n                        let item = {\r\n                            id_fact: res.data[0].id_fact,\r\n                            id_siigo: res.data[0].id_siigo,\r\n                            comprobante: res.data[0].comprobante,\r\n                            prefijo: res.data[0].prefijo,\r\n                            facturasiigo: res.data[0].facturasiigo,\r\n                            fechafactura: res.data[0].fechafactura,\r\n                            idcliente: res.data[0].idcliente,\r\n                            valorfactura: res.data[0].valorfactura,\r\n                            descuento: res.data[0].descuento,\r\n                            cost_center: res.data[0].cost_center,\r\n                            seller: res.data[0].seller,\r\n                            valorimpuesto: res.data[0].valorimpuesto,\r\n                            porcentajeimpto: res.data[0].porcentajeimpto,\r\n                            observaciones: res.data[0].observaciones,\r\n                        };\r\n                        //console.log(\"ID FACTURAS LEIDAS : \", item);\r\n                        newDet.push(item);\r\n                    }\r\n                    ).catch(function (error) {\r\n                        console.log(\"ERROR LEYENDO FACTURAS\");\r\n                    })\r\n                }\r\n                leeFacturas();\r\n                if (contador == contadordos) {\r\n                    console.log(\"ID FACTURAS LEIDAS : \", newDet);\r\n                    setListPedidos(newDet);\r\n                }\r\n            })\r\n\r\n            setLoading(true);\r\n            const leeProductosSiigo = async () => {\r\n                await axios({\r\n                    method: 'post',\r\n                    url: 'https://sitbusiness.co/cyclewear/api/27'\r\n                }).then(res => {\r\n                    setLoading(false);\r\n                    setListProductosSiigo(res.data);\r\n                    //setLeeFacturas(true);\r\n                }\r\n                ).catch(function (error) {\r\n                    console.log(\"ERROR LEYENDO FACTURAS\");\r\n                })\r\n            }\r\n            leeProductosSiigo();\r\n        }\r\n\r\n    }, [fechaFacturas])\r\n\r\n    useEffect(() => {\r\n        if (leeFacturas) {\r\n            let contador = 0;\r\n            console.log(\"NUMERO DE PEDIDOS : \", lisPedidos.length);\r\n            setLoading(true);\r\n\r\n            const newDetPed = [];\r\n            lisPedidos && lisPedidos.map((facturas, index) => {\r\n                contador = contador + 1;\r\n                const leer = async () => {\r\n                    const params = {\r\n                        factura: facturas.id_fact\r\n                    }\r\n                    //console.log(\"LISTADO PEDIDOS : \", params)\r\n\r\n                    await axios({\r\n                        method: 'get',\r\n                        url: 'https://sitbusiness.co/cyclewear/api/202', params\r\n                    }).then(res => {\r\n                        //console.log(\"DETALLE PEDIDOD : \", res.data.included);\r\n\r\n                        res.data.included && res.data.included.map((itempedido, index) => {\r\n                            //console.log(\"ITEM PEDIDOS : \", itempedido);\r\n                            let codigoproducto;\r\n                            let idimpuesto;\r\n                            lisProductosSiigo && lisProductosSiigo.forEach((producto) => {\r\n\r\n                                if (itempedido.attributes.variant_sku == producto.sku) {\r\n                                    codigoproducto = producto.codigo;\r\n                                    idimpuesto = producto.tipoimpuesto;\r\n                                }\r\n                            })\r\n\r\n                            if (itempedido.type == 'line_items') {\r\n                                let item = {\r\n                                    itempedido: itempedido.id,\r\n                                    pedido: itempedido.attributes.invoice_id,\r\n                                    advert_name: itempedido.attributes.advert_name,\r\n                                    advert_code: itempedido.attributes.advert_code,\r\n                                    brand_name: itempedido.attributes.brand_name,\r\n                                    price: itempedido.attributes.price,\r\n                                    quantity: itempedido.attributes.quantity,\r\n                                    subtotal: itempedido.attributes.subtotal,\r\n                                    tax_total: itempedido.attributes.tax_total,\r\n                                    taxon_name: itempedido.attributes.taxon_name,\r\n                                    total: itempedido.attributes.total,\r\n                                    variant_barcode: itempedido.attributes.variant_barcode,\r\n                                    variant_name: itempedido.attributes.variant_name,\r\n                                    variant_sku: itempedido.attributes.variant_sku,\r\n                                    codigoproductosiigo: codigoproducto,\r\n                                    tipoimpuesto: idimpuesto,\r\n                                    observaciones: \"\"\r\n                                };\r\n                                //console.log(\"ITEM PEDIDO : \", res.data)\r\n                                newDetPed.push(item);\r\n                            }\r\n                        })\r\n                    }\r\n                    ).catch(function (error) {\r\n                        console.log(\"ERROR LEYENDO FACTURAS\");\r\n                    })\r\n                }\r\n                leer();\r\n                if (contador === 263) {\r\n                    setLoading(false)\r\n                }\r\n            })\r\n            setListDetalleFacturas(newDetPed);\r\n            setLeeFacturas(false);\r\n        }\r\n    }, [leeFacturas])\r\n\r\n    const validarDatos = () => {\r\n        //console.log(\"Productos  : \", lisProductosSiigo);\r\n        const newDetId = [];\r\n        let contador = 0;\r\n        let contadordos = lisPedidos.length;\r\n\r\n        setLeeFacturas(true);\r\n    }\r\n\r\n    const crearFacturas = () => {\r\n        console.log(\"FORM DATA  : \", formData);\r\n        //    listDetalleFacturas && listDetalleFacturas.forEach((row) => {\r\n        //setLoading(true);\r\n\r\n        return\r\n        genera && genera.map((pedidofacturar) => {\r\n            console.log(\"PEDIDO FACTURAR : \", pedidofacturar)\r\n            lisPedidos && lisPedidos.map((facturas, index) => {\r\n                if (facturas.id_fact == pedidofacturar) {\r\n\r\n                    //var fecha = new Date();\r\n                    let date = new Date(facturas.fechafactura);\r\n                    let fecha = String(date.getFullYear() + '-' + String(date.getMonth() + 1).padStart(2, '0') + '-' + date.getDate()).padStart(2, '0');\r\n                    //contador = contador + 1;\r\n\r\n                    listDetalleFacturas && listDetalleFacturas.map((items, row) => {\r\n                        if (items.pedido == facturas.id_fact) {\r\n                            let valor = 0;\r\n                            let valorpayment = 0;\r\n                            let valoritem = 0;\r\n                            let descuento = 0;\r\n\r\n                            if (items.tipoimpuesto == 745) {\r\n                                valor = items.price / 1.19;\r\n                                valoritem = (valor - (facturas.descuento * -1)).toFixed(4);\r\n                                valorpayment = facturas.valorfactura;\r\n                                descuento = 0;\r\n                            } else {\r\n                                valoritem = items.price;\r\n                                valoritem = (items.price - (facturas.descuento * -1)).toFixed(0);\r\n                                valorpayment = valoritem;\r\n                                descuento = 0;\r\n                            }\r\n\r\n                            // descuento = (((items.price-(items.price / 1.19))/items.price)*100).toFixed(4);\r\n                            const leer = async () => {\r\n                                let params = {\r\n                                    id: 37799,\r\n                                    date: \"2022-06-17\",  //fecha\r\n                                    identification: facturas.idcliente,\r\n                                    cost_center: facturas.cost_center,\r\n                                    seller: facturas.seller,\r\n                                    code: items.codigoproductosiigo,\r\n                                    description: items.advert_name,\r\n                                    quantity: items.quantity,\r\n                                    discount: descuento,\r\n                                    price: valoritem,\r\n                                    value: valorpayment,\r\n                                    idpayments: 7500,\r\n                                    due_date: \"2022-06-17\", // fecha\r\n                                    idtaxes: items.tipoimpuesto,\r\n                                    observations: facturas.observaciones\r\n                                };\r\n                                console.log(\"DATOS A FACTURAR : \", params)\r\n\r\n                                await axios({\r\n                                    method: 'get',\r\n                                    url: 'https://sitbusiness.co/cyclewear/api/729', params\r\n                                }).then(res => {\r\n                                    setLoading(false);\r\n                                    console.log(\"DATOS RESPONSE : \", res)\r\n                                }\r\n                                ).catch(function (error) {\r\n                                    console.log(\"ERROR LEYENDO FACTURAS\");\r\n                                })\r\n                            }\r\n                            leer();\r\n\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n    const sleep = () => (\r\n        setTimeout(() => { console.log(\"Esperando!\") }, 100)\r\n    );\r\n\r\n    //const leerDatosFacturas = async () => {\r\n    const actualizarDatosBD = () => {\r\n        setLoading(true);\r\n        //console.log(\"TERCEROS CREADOS : \", listaTercerosCreados);\r\n        //console.log(\"FACTURAS LEIDAS : \", datosClientesFacturas);\r\n\r\n        //console.log(\"ENCABEZADO PEDIDOS : \", lisPedidos);\r\n        //console.log(\"DETALLE PEDIDOS : \", listDetalleFacturas);\r\n\r\n        let longitud = lisPedidos.length;\r\n        let contador = 0;\r\n\r\n        lisPedidos && lisPedidos.forEach((row) => {\r\n            const leerPedidos = async () => {\r\n                contador = contador + 1;\r\n                //let anno = row.fechafactura.getFullYear();\r\n                //let mes = row.fechafactura.getMonth();\r\n                //let dia = row.fechafactura. getDate();\r\n                //console.log(\"VALOR FECHA : \", Moment.format(\"YYYY/MM/DD\", row.fechafactura));\r\n                const params = {\r\n                    id_fact: row.id_fact,\r\n                    id_siigo: row.id_siigo,\r\n                    comprobante: row.comprobante,\r\n                    prefijo: row.prefijo,\r\n                    facturasiigo: row.facturasiigo,\r\n                    fechafactura: \"2022-06-17\", //row.fechafactura,\r\n                    idcliente: row.idcliente,\r\n                    valorfactura: row.valorfactura,\r\n                    descuento: row.descuento,\r\n                    cost_center: row.cost_center,\r\n                    seller: row.seller,\r\n                    valorimpuesto: row.valorimpuesto,\r\n                    porcentajeimpto: row.porcentajeimpto,\r\n                    Observaciones: \"\"\r\n                }\r\n                await axios({\r\n                    method: 'post',\r\n                    url: 'https://sitbusiness.co/cyclewear/api/206', params\r\n                }).then(res => {\r\n                    if (contador === longitud) {\r\n                        console.log(\"VALOR RESPONSE : \", res)\r\n                        setLoading(false);\r\n                    }\r\n                }\r\n                ).catch(function (error) {\r\n                    console.log(\"ERROR LEYENDO FACTURAS\");\r\n                })\r\n            }\r\n            leerPedidos()\r\n        });\r\n\r\n        contador = 0;\r\n        longitud = listDetalleFacturas.length;\r\n\r\n        listDetalleFacturas && listDetalleFacturas.forEach((row) => {\r\n            const leerItems = async () => {\r\n                contador = contador + 1;\r\n\r\n                //let anno = row.fechafactura.getFullYear();\r\n                //let mes = row.fechafactura.getMonth();\r\n                //let dia = row.fechafactura. getDate();\r\n                //console.log(\"VALOR FECHA : \", Moment.format(\"YYYY/MM/DD\", row.fechafactura));\r\n\r\n                const params = {\r\n                    itempedido: row.itempedido,\r\n                    pedido: row.pedido,\r\n                    advert_name: row.advert_name,\r\n                    advert_code: row.advert_code,\r\n                    brand_name: row.brand_name,\r\n                    proce: row.price,\r\n                    quantity: row.quantity,\r\n                    subtotal: row.subtotal,\r\n                    tax_total: row.tax_total,\r\n                    taxon_name: row.taxon_name,\r\n                    total: row.total,\r\n                    variant_barcode: row.variant_barcode,\r\n                    variant_name: row.variant_name,\r\n                    variant_sku: row.variant_sku,\r\n                    codigoproductosiigo: row.codigoproductosiigo,\r\n                    observaciones: \"\"\r\n                }\r\n                await axios({\r\n                    method: 'post',\r\n                    url: 'https://sitbusiness.co/cyclewear/api/207', params\r\n                }).then(res => {\r\n                    if (contador === longitud) {\r\n                        console.log(\"VALOR RESPONSE : \", res)\r\n                        setLoading(false);\r\n                    }\r\n                }\r\n                ).catch(function (error) {\r\n                    console.log(\"ERROR LEYENDO FACTURAS\");\r\n                })\r\n            }\r\n            leerItems()\r\n        });\r\n    }\r\n\r\n\r\n    const onChange = (e) => {\r\n        setFormData({\r\n            ...formData,\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    };\r\n\r\n\r\n    const handleChangeFecha = async (selectedOptions) => {\r\n        const newDet = [];\r\n        //console.log(\"FECHA : \", selectedOptions)\r\n        setFechaFacturas(selectedOptions)\r\n\r\n        let contador = 0;\r\n        lisPedidos && lisPedidos.map((facturas, index) => {\r\n            let item = {\r\n                id: facturas.id\r\n            };\r\n            newDet.push(item);\r\n        })\r\n        setDatos(newDet)\r\n        //console.log(\"PEDIDOS : \", newDet)\r\n    }\r\n\r\n    const handleChangeTipoTercero = async (selectedOptions) => {\r\n        setTipoTercero(selectedOptions)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {loading ? <Loading /> : null}\r\n            <br />\r\n            <div className='mb-30 ml-10'>\r\n                <Row>\r\n                    <Col xl={2} lg={2} md={2} xs={2}>\r\n                        <div className='tamañofuentetercero'>\r\n                            Fecha facturas:\r\n                        </div>\r\n                    </Col>\r\n                    <Col xl={3} lg={3} md={3} xs={3}>\r\n                        <div className=\"form-horizontal auth-form\">\r\n                            <div>\r\n                                <input\r\n                                    name=\"fecha\"\r\n                                    type=\"date\"\r\n                                    className=\"form-control\"\r\n                                    placeholder=\"Ingrese fecha\"\r\n                                    id=\"exampleInputEmail12\"\r\n                                    onChange={(e) =>\r\n                                        handleChangeFecha(\r\n                                            e.target\r\n                                                .value\r\n                                        )}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n\r\n            <form onChange={onChange}>\r\n                <Row>\r\n                    <Col xl={2} lg={2} md={2} xs={2}>\r\n                        <div className='tamañofuentetercero'>\r\n                            Pedido Uno:\r\n                        </div>\r\n                    </Col>\r\n                    <Col xl={1} lg={1} md={1} xs={1}>\r\n                        <div className=\"form-horizontal auth-form\">\r\n                            <div>\r\n                                <input\r\n                                    name=\"pedidouno\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"Ingrese Pedido\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </Col>\r\n                    <Col xl={2} lg={2} md={2} xs={2}>\r\n                        <div className='tamañofuentetercero'>\r\n                            Pedido Dos:\r\n                        </div>\r\n                    </Col>\r\n                    <Col xl={1} lg={1} md={1} xs={1}>\r\n                        <div className=\"form-horizontal auth-form\">\r\n                            <div>\r\n                                <input\r\n                                    name=\"pedidouno\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"Ingrese Pedido\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </Col>\r\n                    <Col xl={2} lg={2} md={2} xs={2}>\r\n                        <div className='tamañofuentetercero'>\r\n                            Pedido Uno:\r\n                        </div>\r\n                    </Col>\r\n                    <Col xl={1} lg={1} md={1} xs={1}>\r\n                        <div className=\"form-horizontal auth-form\">\r\n                            <div>\r\n                                <input\r\n                                    name=\"pedidouno\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"Ingrese Pedido\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n                <button onClick={crearFacturas}>\r\n                    Procesar Pedidos\r\n                </button>\r\n            </form>\r\n\r\n            <hr />\r\n            <Row>\r\n                <Col xl={3} lg={3} md={3} xs={3}>\r\n                    <button className='botoncrearcliente' color=\"primary\" >\r\n                        <ReactHTMLTableToExcel\r\n                            table=\"ubicacionesequipos\"\r\n                            filename=\"DatosClientesCWR\"\r\n                            sheet=\"Sheet\"\r\n                            buttonText=\"Exportar a Excel\"\r\n                        />\r\n                    </button>\r\n                </Col>\r\n                <Col xl={3} lg={3} md={3} xs={3}>\r\n                    <button className='botoncrearcliente' color=\"primary\" onClick={validarDatos}>\r\n                        Validar Datos\r\n                    </button>\r\n                </Col>\r\n                <Col xl={3} lg={3} md={3} xs={3}>\r\n                    <button className='botoncrearcliente' color=\"primary\" onClick={actualizarDatosBD}>\r\n                        Actualizar BD\r\n                    </button>\r\n                </Col>\r\n                <Col xl={3} lg={3} md={3} xs={3}>\r\n                    <button className='botoncrearcliente' color=\"primary\" onClick={crearFacturas}>\r\n                        Crear Facturas\r\n                    </button>\r\n                </Col>\r\n\r\n            </Row>\r\n            <hr />\r\n            {\r\n\r\n                <table id=\"ubicacionesequipos\" className=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>IDENTIFICACION</th>\r\n                            <th>PEDIDO</th>\r\n                            <th>FECHA</th>\r\n                            <th>NOMBRE</th>\r\n                            <th>APELLIDO</th>\r\n                            <th>EMAIL</th>\r\n                            <th>CIUDAD</th>\r\n                            <th>TELEFONO</th>\r\n                            <th>DIRECCION</th>\r\n                            <th>ESTADO</th>\r\n                            <th>TOTAL</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            datosClientesFacturas && datosClientesFacturas.map((facturas, index) => {\r\n                                return (\r\n                                    <tr>\r\n                                        <td>{facturas.identification}</td>\r\n                                        <td>{facturas.pedido}</td>\r\n                                        <td>{facturas.fecha}</td>\r\n                                        <td>{facturas.apellido}</td>\r\n                                        <td>{facturas.email}</td>\r\n                                        <td>{facturas.ciudad}</td>\r\n                                        <td>{facturas.telefono}</td>\r\n                                        <td>{facturas.direccion}</td>\r\n                                        <td>{facturas.estado}</td>\r\n                                        <td>{facturas.valor}</td>\r\n                                    </tr>\r\n                                )\r\n                            })\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction defaultValueForm() {\r\n    return {\r\n        pedidouno: 0,\r\n        pedidodos: 0,\r\n        pedidotres: 0,\r\n        pedidocuatro: 0,\r\n        pedidocinco: 0,\r\n    };\r\n}\r\n\r\nexport default CreateInvoice;"]},"metadata":{},"sourceType":"module"}