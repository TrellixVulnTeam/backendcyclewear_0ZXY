{"ast":null,"code":"var _jsxFileName = \"C:\\\\ProyectosProductivos\\\\backendcyclewear\\\\backend\\\\src\\\\components\\\\sales\\\\ValidateThird.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect, useState } from 'react';\nimport ReactHTMLTableToExcel from \"react-html-table-to-excel\";\nimport Breadcrumb from \"../common/breadcrumb\";\nimport MaterialTable from \"material-table\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport axios from \"axios\";\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport EditAttributesIcon from '@material-ui/icons/EditAttributes';\nimport Moment from \"moment\";\nimport swal from \"sweetalert\";\nimport { Card, CardBody, CardHeader, Col, Container, Form, FormGroup, Input, Label, Row, Button, Modal, ModalFooter, ModalHeader, ModalBody } from \"reactstrap\"; //import Loading from \"../../../components/elements/Loading\";\n\nimport EditIcon from '@material-ui/icons/Edit';\nimport imagen1 from \"../../assets/images/imagenes/bicicleta.jpg\";\nimport Loading from '../elements/Loading/Loading';\n/*import imagen2 from \"../../../assets/images/imagenes/bolsa.jpg\";\r\nimport imagen3 from \"../../../assets/images/imagenes/camisetas.jpg\";\r\nimport imagen4 from \"../../../assets/images/imagenes/camisetas1.jpg\";\r\nimport imagen5 from \"../../../assets/images/imagenes/caramañola.jpg\";\r\nimport imagen6 from \"../../../assets/images/imagenes/caramañola1.jpg\";\r\nimport imagen7 from \"../../../assets/images/imagenes/caramañola2.jpg\";\r\nimport imagen8 from \"../../../assets/images/imagenes/casco1.jpg\";\r\nimport imagen9 from \"../../../assets/images/imagenes/sillin.jpg\";\r\nimport imagen10 from \"../../../assets/images/imagenes/sillin1.jpg\";\r\nimport imagen11 from \"../../../assets/images/imagenes/sillin3.jpg\";\r\nimport imagen12 from \"../../../assets/images/imagenes/zapatillas.jpg\";\r\nimport imagen13 from \"../../../assets/images/imagenes/zapatillas1.jpg\";\r\nimport imagen14 from \"../../../assets/images/imagenes/zapatillas2.jpg\";\r\nimport imagen15 from \"../../../assets/images/imagenes/zapatillas3.jpg\";\r\nimport imagen16 from \"../../../assets/images/imagenes/casco.jpg\";\r\nimport { CommentSharp } from '@material-ui/icons';*/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ValidateThird(props) {\n  _s();\n\n  const [lisPedidos, setListPedidos] = useState([]);\n  const [listIdentificacion, setListIdentificacion] = useState([]);\n  const [listaTercerosCreados, setListaTercerosCreados] = useState([]);\n  const [fechaFacturas, setFechaFacturas] = useState(false);\n  const [tipoTercero, setTipoTercero] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const fechaactual = Moment(new Date()).format(\"YYYY-MM-DD HH:mm:ss\");\n  const [datosClientesFacturas, setDatosClientesFacturas] = useState([]);\n  const [datos, setDatos] = useState([]);\n  const [datosCrear, setDatosCrear] = useState(false);\n  const dispatch = useDispatch();\n  const [leeFacturas, setLeeFacturas] = useState(false); //console.log(\"IMAGEN : \", imagen1)\n\n  useEffect(() => {\n    if (fechaFacturas) {\n      const newDet = [];\n      const newDetId = [];\n\n      const leeFacturas = async () => {\n        setLoading(true);\n        const params = {\n          fecha: fechaFacturas\n        }; //console.log(\"FECHA \", params);\n\n        await axios({\n          method: 'post',\n          url: 'https://sitbusiness.co/cyclewear/api/205',\n          params\n        }).then(res => {\n          newDet.push(res.data);\n          setLoading(false); //console.log(\"LONGITUD FACTURAS : \", newDet[0].data.length)\n\n          let contador = newDet[0].data.length;\n          let contadordos = 0;\n\n          if (newDet[0].data.length > 0) {\n            setListPedidos(newDet[0].data); //console.log(\"ID FACTURAS LEIDAS : \", newDet[0].data);\n\n            newDet[0].data && newDet[0].data.map((facturas, index) => {\n              const params = {\n                factura: newDet[0].data[index].id\n              }; //console.log(\"ID FACTURAS LEIDAS : \", params);\n              //console.log(\"ENVOICE : \", params);\n\n              setLoading(false);\n\n              const leeIdentificacion = async () => {\n                await axios({\n                  method: 'post',\n                  url: 'https://sitbusiness.co/cyclewear/api/709',\n                  params\n                }).then(res => {\n                  //newDetId(res.data);\n                  console.log(\"NUEVO ARREGLO  : \", res.data);\n                  contadordos = contadordos + 1;\n\n                  if (contadordos === contador) {\n                    //setListIdentificacion(newDetId[0]);\n                    setLoading(false);\n                    console.log(\"LONGITUD : \", contador, \"CONTADOR : \", contadordos, newDetId);\n                  }\n                }).catch(function (error) {\n                  console.log(\"ERROR LEYENDO FACTURAS\");\n                });\n              };\n\n              leeIdentificacion();\n            });\n          }\n        }).catch(function (error) {\n          console.log(\"ERROR LEYENDO FACTURAS\");\n        });\n      };\n\n      leeFacturas();\n    }\n  }, [fechaFacturas]); //console.log(\"LISTA PRODUCTOS BK : \", res.data.data);\n\n  const validarDatos = () => {\n    //console.log(\"ERROR LEYENDO FACTURAS\");\n    console.log(\"Identificacion : \", listIdentificacion);\n    /*\r\n    const newDet = [];\r\n    const newDetCli = [];\r\n    let numfactura = lisPedidos.length;\r\n    let contador = 0;\r\n    lisPedidos && lisPedidos.map((facturas, index) => {\r\n        contador = contador + 1;\r\n        const leer = async () => {\r\n            const params = {\r\n                factura: facturas.id\r\n            }\r\n              await axios({\r\n                method: 'get',\r\n                url: 'https://sitbusiness.co/cyclewear/api/202', params\r\n            }).then(res => {\r\n                //console.log(\"RES DATA : \", res.data)\r\n                let longitud = res.data.included.length - 1;\r\n                  var caracteres = \"012346789\";\r\n                var codigoid = \"\";\r\n                for (var i = 0; i < 10; i++)\r\n                    codigoid += caracteres.charAt(\r\n                        Math.floor(Math.random() * caracteres.length)\r\n                    );\r\n                  if (contador <= 5) {\r\n                    codigoid = 55312918;\r\n                }\r\n                  if (contador > 5 && contador < 11) {\r\n                    codigoid = 1098706863;\r\n                }\r\n                  if (contador > 10 && contador < 16) {\r\n                    codigoid = 1088258458;\r\n                }\r\n                  if (contador > 15 && contador < 21) {\r\n                    codigoid = 1005363725;\r\n                }\r\n                  if (contador > 20) {\r\n                    codigoid = 59832275;\r\n                }\r\n                  let item = {\r\n                    type: \"Customer\",\r\n                    tipotercero: 1,\r\n                    person_type: \"Person\",\r\n                    id_type: \"13\",\r\n                    identification: codigoid,\r\n                    check_digit: 0,\r\n                    nombre: res.data.included[longitud].attributes.first_name,\r\n                    apellido: res.data.included[longitud].attributes.surname,\r\n                    commercial_name: \"Siigo\",\r\n                    branch_office: 0,\r\n                    active: \"true\",\r\n                    vat_responsible: \"false\",\r\n                    code: \"R-99-PN\",\r\n                    address: res.data.included[longitud].attributes.address,\r\n                    country_code: \"Co\",\r\n                    state_code: \"05\",\r\n                    city_code: \"05631\",\r\n                    postal_code: \"110911\",\r\n                    indicative: \"57\",\r\n                    number: res.data.included[longitud].attributes.phone,\r\n                    extension: \"000\",\r\n                    first_name: res.data.included[longitud].attributes.first_name,\r\n                    last_name: res.data.included[longitud].attributes.surname,\r\n                    email: res.data.included[longitud].attributes.email_address,\r\n                    indicative: \"57\",\r\n                    number: res.data.included[longitud].attributes.phone,\r\n                    extension: \"000\",\r\n                    comments: \"Comentarios\",\r\n                    sucursal: 0,\r\n                    estado: 1,\r\n                    ciudad: 167,\r\n                    tipoderegimen: 1,\r\n                    indicativofacturacion: 0,\r\n                    usuarioasignado: 0,\r\n                    fecha: fechaactual,\r\n                    pedido: facturas.id\r\n                };\r\n                newDet.push(item);\r\n                if (contador === numfactura) {\r\n                    //alert(\"ENTRE\")\r\n                    //console.log(\"CONTADOR : \", contador, \"NUM FACTURA : \", numfactura)\r\n                    if (newDet.length === numfactura) {\r\n                        const esperacinco = async event => {\r\n                            await sleep(1000);\r\n                            //console.log(\"NEW DET : \", newDet);\r\n                            setDatosClientesFacturas(newDet);\r\n                        }\r\n                        esperacinco();\r\n                    }\r\n                }\r\n            }\r\n            ).catch(function (error) {\r\n                console.log(\"ERROR LEYENDO FACTURAS\");\r\n            })\r\n        }\r\n        leer();\r\n      })\r\n    */\n\n    /*\r\n                const leerClientes = async () => {\r\n                    const params = {\r\n                        tipotercero: tipoTercero\r\n                    }\r\n    \r\n                    await axios({\r\n                        method: 'post',\r\n                        url: 'https://sitbusiness.co/cyclewear/api/114', params\r\n                    }).then(res => {\r\n                        console.log(\"RETORNA : \", res.data);\r\n                        if (res) {\r\n                            setListaTercerosCreados(res.data);\r\n                        }\r\n                        setLoading(false);\r\n                    }\r\n                    ).catch(function (error) {\r\n                        console.log(\"ERROR LEYENDO FACTURAS\");\r\n                    })\r\n                }\r\n                */\n    //setListaTercerosCreados(newDetCli[0]);\n    //console.log(\"NEW DET XXXX : \", newDetCli[0]);\n  };\n\n  const sleep = () => setTimeout(() => {\n    console.log(\"Esperando!\");\n  }, 100); //const leerDatosFacturas = async () => {\n\n\n  const crearClientes = () => {\n    setLoading(true); //console.log(\"TERCEROS CREADOS : \", listaTercerosCreados);\n    //console.log(\"FACTURAS LEIDAS : \", datosClientesFacturas);\n\n    setLoading(false);\n    setLoading(true);\n    const newDetCli = [];\n\n    if (!tipoTercero) {\n      swal(\"CYCLE WEAR\", \"Recuerda, debes ingresar el tipo de tercero!\", \"warning\", {\n        button: \"Aceptar\"\n      });\n      setLoading(false);\n      return;\n    }\n\n    let longitud = datosClientesFacturas.length;\n    let contador = 0;\n    datosClientesFacturas && datosClientesFacturas.forEach(row => {\n      const leerClientes = async () => {\n        const params = {\n          tipotercero: tipoTercero,\n          identificacion: row.identification\n        };\n        await axios({\n          method: 'post',\n          url: 'https://sitbusiness.co/cyclewear/api/102',\n          params\n        }).then(res => {\n          console.log(\"DATOS CLIENTE : \", res.data);\n\n          if (res) {//setListaTercerosCreados(res.data);\n          }\n\n          setLoading(false);\n        }).catch(function (error) {\n          console.log(\"ERROR LEYENDO FACTURAS\");\n        });\n      };\n\n      leerClientes();\n    }); //setCarrocerias(newDet);\n\n    return;\n\n    for (var i = 0; i < 1; i++) {\n      contador = contador + 1;\n      const params = datosClientesFacturas[i];\n      console.log(\"PARAMETROS : \", params);\n      axios({\n        method: 'post',\n        url: 'https://sitbusiness.co/cyclewear/api/101',\n        params\n      }).then(res => {\n        console.log(\"RESPONSE : \", res);\n        if (contador === longitud) setLoading(false);\n      }).catch(function (error) {\n        console.log(\"ERROR LEYENDO FACTURAS\");\n      });\n    } //console.log(\"TOTAL CLIENTES : \", datosClientesFacturas)\n    //console.log(\"CONTADOR : \", contador, \" LONGITUD : \", longitud);\n\n  };\n\n  const handleChangeFecha = async selectedOptions => {\n    const newDet = []; //console.log(\"FECHA : \", selectedOptions)\n\n    setFechaFacturas(selectedOptions);\n    let contador = 0;\n    lisPedidos && lisPedidos.map((facturas, index) => {\n      let item = {\n        id: facturas.id\n      };\n      newDet.push(item);\n    });\n    setDatos(newDet); //console.log(\"PEDIDOS : \", newDet)\n  };\n\n  const handleChangeTipoTercero = async selectedOptions => {\n    setTipoTercero(selectedOptions);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 24\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-30 ml-10\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          xl: 2,\n          lg: 2,\n          md: 2,\n          xs: 2,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tama\\xF1ofuentetercero\",\n            children: \"Tipo de Tercero:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xl: 3,\n          lg: 3,\n          md: 3,\n          xs: 3,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-horizontal auth-form\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"tipotercero\",\n                type: \"text\",\n                className: \"form-control\",\n                placeholder: \"Ingrese Tipo Tercero\",\n                id: \"exampleInputEmail12\",\n                onChange: e => handleChangeTipoTercero(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xl: 2,\n          lg: 2,\n          md: 2,\n          xs: 2,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tama\\xF1ofuentetercero\",\n            children: \"Fecha facturas:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xl: 3,\n          lg: 3,\n          md: 3,\n          xs: 3,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-horizontal auth-form\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"fecha\",\n                type: \"date\",\n                className: \"form-control\",\n                placeholder: \"Ingrese fecha\",\n                id: \"exampleInputEmail12\",\n                onChange: e => handleChangeFecha(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        xl: 3,\n        lg: 3,\n        md: 3,\n        xs: 3\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        xl: 3,\n        lg: 3,\n        md: 3,\n        xs: 3,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"botoncrearcliente\",\n          color: \"primary\",\n          children: /*#__PURE__*/_jsxDEV(ReactHTMLTableToExcel, {\n            table: \"ubicacionesequipos\",\n            filename: \"DatosClientesCWR\",\n            sheet: \"Sheet\",\n            buttonText: \"Exportar a Excel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        xl: 3,\n        lg: 3,\n        md: 3,\n        xs: 3,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"botoncrearcliente\",\n          color: \"primary\",\n          onClick: crearClientes,\n          children: \"Crear Clientes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        xl: 3,\n        lg: 3,\n        md: 3,\n        xs: 3,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"botoncrearcliente\",\n          color: \"primary\",\n          onClick: validarDatos,\n          children: \"Validar Datos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      id: \"ubicacionesequipos\",\n      className: \"table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"IDENTIFICACION\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"FECHA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"NOMBRE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"APELLIDO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"EMAIL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"CIUDAD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"TELEFONO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"DIRECCION\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ESTADO\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"TOTAL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: datosClientesFacturas && datosClientesFacturas.map((facturas, index) => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: facturas.identification\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: facturas.fechafactura\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: facturas.nombre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: facturas.apellido\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: facturas.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: facturas.ciudad\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: facturas.telefono\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: facturas.direccion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: facturas.estado\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: facturas.valor\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 37\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 352,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ValidateThird, \"Fv9uVHbY8e2BCrG4g6t9tt1RAl4=\", false, function () {\n  return [useDispatch];\n});\n\n_c = ValidateThird;\nexport default ValidateThird;\n\nvar _c;\n\n$RefreshReg$(_c, \"ValidateThird\");","map":{"version":3,"sources":["C:/ProyectosProductivos/backendcyclewear/backend/src/components/sales/ValidateThird.js"],"names":["React","Fragment","useEffect","useState","ReactHTMLTableToExcel","Breadcrumb","MaterialTable","useDispatch","useSelector","axios","CancelIcon","EditAttributesIcon","Moment","swal","Card","CardBody","CardHeader","Col","Container","Form","FormGroup","Input","Label","Row","Button","Modal","ModalFooter","ModalHeader","ModalBody","EditIcon","imagen1","Loading","ValidateThird","props","lisPedidos","setListPedidos","listIdentificacion","setListIdentificacion","listaTercerosCreados","setListaTercerosCreados","fechaFacturas","setFechaFacturas","tipoTercero","setTipoTercero","loading","setLoading","fechaactual","Date","format","datosClientesFacturas","setDatosClientesFacturas","datos","setDatos","datosCrear","setDatosCrear","dispatch","leeFacturas","setLeeFacturas","newDet","newDetId","params","fecha","method","url","then","res","push","data","contador","length","contadordos","map","facturas","index","factura","id","leeIdentificacion","console","log","catch","error","validarDatos","sleep","setTimeout","crearClientes","newDetCli","button","longitud","forEach","row","leerClientes","tipotercero","identificacion","identification","i","handleChangeFecha","selectedOptions","item","handleChangeTipoTercero","e","target","value","fechafactura","nombre","apellido","email","ciudad","telefono","direccion","estado","valor"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\r\nimport ReactHTMLTableToExcel from \"react-html-table-to-excel\";\r\nimport Breadcrumb from \"../common/breadcrumb\";\r\nimport MaterialTable from \"material-table\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport EditAttributesIcon from '@material-ui/icons/EditAttributes';\r\nimport Moment from \"moment\";\r\nimport swal from \"sweetalert\";\r\nimport {\r\n    Card, CardBody, CardHeader, Col, Container, Form, FormGroup, Input, Label, Row, Button, Modal, ModalFooter,\r\n    ModalHeader, ModalBody\r\n} from \"reactstrap\";\r\n//import Loading from \"../../../components/elements/Loading\";\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport imagen1 from \"../../assets/images/imagenes/bicicleta.jpg\";\r\nimport Loading from '../elements/Loading/Loading';\r\n\r\n/*import imagen2 from \"../../../assets/images/imagenes/bolsa.jpg\";\r\nimport imagen3 from \"../../../assets/images/imagenes/camisetas.jpg\";\r\nimport imagen4 from \"../../../assets/images/imagenes/camisetas1.jpg\";\r\nimport imagen5 from \"../../../assets/images/imagenes/caramañola.jpg\";\r\nimport imagen6 from \"../../../assets/images/imagenes/caramañola1.jpg\";\r\nimport imagen7 from \"../../../assets/images/imagenes/caramañola2.jpg\";\r\nimport imagen8 from \"../../../assets/images/imagenes/casco1.jpg\";\r\nimport imagen9 from \"../../../assets/images/imagenes/sillin.jpg\";\r\nimport imagen10 from \"../../../assets/images/imagenes/sillin1.jpg\";\r\nimport imagen11 from \"../../../assets/images/imagenes/sillin3.jpg\";\r\nimport imagen12 from \"../../../assets/images/imagenes/zapatillas.jpg\";\r\nimport imagen13 from \"../../../assets/images/imagenes/zapatillas1.jpg\";\r\nimport imagen14 from \"../../../assets/images/imagenes/zapatillas2.jpg\";\r\nimport imagen15 from \"../../../assets/images/imagenes/zapatillas3.jpg\";\r\nimport imagen16 from \"../../../assets/images/imagenes/casco.jpg\";\r\nimport { CommentSharp } from '@material-ui/icons';*/\r\n\r\nfunction ValidateThird(props) {\r\n    const [lisPedidos, setListPedidos] = useState([]);\r\n    const [listIdentificacion, setListIdentificacion] = useState([]);\r\n    const [listaTercerosCreados, setListaTercerosCreados] = useState([]);\r\n    const [fechaFacturas, setFechaFacturas] = useState(false);\r\n    const [tipoTercero, setTipoTercero] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const fechaactual = Moment(new Date()).format(\"YYYY-MM-DD HH:mm:ss\");\r\n    const [datosClientesFacturas, setDatosClientesFacturas] = useState([]);\r\n    const [datos, setDatos] = useState([]);\r\n    const [datosCrear, setDatosCrear] = useState(false);\r\n    const dispatch = useDispatch();\r\n    const [leeFacturas, setLeeFacturas] = useState(false);\r\n\r\n    //console.log(\"IMAGEN : \", imagen1)\r\n\r\n    useEffect(() => {\r\n        if (fechaFacturas) {\r\n            const newDet = [];\r\n            const newDetId = [];\r\n\r\n            const leeFacturas = async () => {\r\n                setLoading(true);\r\n\r\n                const params = {\r\n                    fecha: fechaFacturas\r\n                }\r\n                //console.log(\"FECHA \", params);\r\n                await axios({\r\n                    method: 'post',\r\n                    url: 'https://sitbusiness.co/cyclewear/api/205', params\r\n                }).then(res => {\r\n                    newDet.push(res.data);\r\n                    setLoading(false);\r\n                    //console.log(\"LONGITUD FACTURAS : \", newDet[0].data.length)\r\n                    let contador = newDet[0].data.length;\r\n                    let contadordos = 0;\r\n                    if (newDet[0].data.length > 0) {\r\n                        setListPedidos(newDet[0].data);\r\n\r\n                        //console.log(\"ID FACTURAS LEIDAS : \", newDet[0].data);\r\n\r\n                        newDet[0].data && newDet[0].data.map((facturas, index) => {\r\n                           \r\n                            const params = {\r\n                                factura: newDet[0].data[index].id\r\n                            }\r\n                            //console.log(\"ID FACTURAS LEIDAS : \", params);\r\n\r\n                            //console.log(\"ENVOICE : \", params);\r\n                            setLoading(false);\r\n                            const leeIdentificacion = async () => {\r\n                                await axios({\r\n                                    method: 'post',\r\n                                    url: 'https://sitbusiness.co/cyclewear/api/709', params\r\n                                }).then(res => {\r\n                                    //newDetId(res.data);\r\n                                    console.log(\"NUEVO ARREGLO  : \", res.data);\r\n                                    contadordos = contadordos + 1;\r\n                                    if (contadordos ===  contador) {\r\n                                        //setListIdentificacion(newDetId[0]);\r\n                                        setLoading(false);\r\n                                        console.log(\"LONGITUD : \", contador, \"CONTADOR : \", contadordos, newDetId)\r\n                                    }\r\n                                }\r\n                                ).catch(function (error) {\r\n                                    console.log(\"ERROR LEYENDO FACTURAS\");\r\n                                })\r\n                            }\r\n                            leeIdentificacion();\r\n                        })\r\n                    }\r\n                }\r\n                ).catch(function (error) {\r\n                    console.log(\"ERROR LEYENDO FACTURAS\");\r\n                })\r\n            }\r\n            leeFacturas();\r\n        }\r\n    }, [fechaFacturas])\r\n\r\n    //console.log(\"LISTA PRODUCTOS BK : \", res.data.data);\r\n    const validarDatos = () => {\r\n        //console.log(\"ERROR LEYENDO FACTURAS\");\r\n        console.log(\"Identificacion : \", listIdentificacion);\r\n\r\n        /*\r\n        const newDet = [];\r\n        const newDetCli = [];\r\n        let numfactura = lisPedidos.length;\r\n        let contador = 0;\r\n        lisPedidos && lisPedidos.map((facturas, index) => {\r\n            contador = contador + 1;\r\n            const leer = async () => {\r\n                const params = {\r\n                    factura: facturas.id\r\n                }\r\n\r\n                await axios({\r\n                    method: 'get',\r\n                    url: 'https://sitbusiness.co/cyclewear/api/202', params\r\n                }).then(res => {\r\n                    //console.log(\"RES DATA : \", res.data)\r\n                    let longitud = res.data.included.length - 1;\r\n\r\n                    var caracteres = \"012346789\";\r\n                    var codigoid = \"\";\r\n                    for (var i = 0; i < 10; i++)\r\n                        codigoid += caracteres.charAt(\r\n                            Math.floor(Math.random() * caracteres.length)\r\n                        );\r\n\r\n                    if (contador <= 5) {\r\n                        codigoid = 55312918;\r\n                    }\r\n\r\n                    if (contador > 5 && contador < 11) {\r\n                        codigoid = 1098706863;\r\n                    }\r\n\r\n                    if (contador > 10 && contador < 16) {\r\n                        codigoid = 1088258458;\r\n                    }\r\n\r\n                    if (contador > 15 && contador < 21) {\r\n                        codigoid = 1005363725;\r\n                    }\r\n\r\n                    if (contador > 20) {\r\n                        codigoid = 59832275;\r\n                    }\r\n\r\n                    let item = {\r\n                        type: \"Customer\",\r\n                        tipotercero: 1,\r\n                        person_type: \"Person\",\r\n                        id_type: \"13\",\r\n                        identification: codigoid,\r\n                        check_digit: 0,\r\n                        nombre: res.data.included[longitud].attributes.first_name,\r\n                        apellido: res.data.included[longitud].attributes.surname,\r\n                        commercial_name: \"Siigo\",\r\n                        branch_office: 0,\r\n                        active: \"true\",\r\n                        vat_responsible: \"false\",\r\n                        code: \"R-99-PN\",\r\n                        address: res.data.included[longitud].attributes.address,\r\n                        country_code: \"Co\",\r\n                        state_code: \"05\",\r\n                        city_code: \"05631\",\r\n                        postal_code: \"110911\",\r\n                        indicative: \"57\",\r\n                        number: res.data.included[longitud].attributes.phone,\r\n                        extension: \"000\",\r\n                        first_name: res.data.included[longitud].attributes.first_name,\r\n                        last_name: res.data.included[longitud].attributes.surname,\r\n                        email: res.data.included[longitud].attributes.email_address,\r\n                        indicative: \"57\",\r\n                        number: res.data.included[longitud].attributes.phone,\r\n                        extension: \"000\",\r\n                        comments: \"Comentarios\",\r\n                        sucursal: 0,\r\n                        estado: 1,\r\n                        ciudad: 167,\r\n                        tipoderegimen: 1,\r\n                        indicativofacturacion: 0,\r\n                        usuarioasignado: 0,\r\n                        fecha: fechaactual,\r\n                        pedido: facturas.id\r\n                    };\r\n                    newDet.push(item);\r\n                    if (contador === numfactura) {\r\n                        //alert(\"ENTRE\")\r\n                        //console.log(\"CONTADOR : \", contador, \"NUM FACTURA : \", numfactura)\r\n                        if (newDet.length === numfactura) {\r\n                            const esperacinco = async event => {\r\n                                await sleep(1000);\r\n                                //console.log(\"NEW DET : \", newDet);\r\n                                setDatosClientesFacturas(newDet);\r\n                            }\r\n                            esperacinco();\r\n                        }\r\n                    }\r\n                }\r\n                ).catch(function (error) {\r\n                    console.log(\"ERROR LEYENDO FACTURAS\");\r\n                })\r\n            }\r\n            leer();\r\n\r\n        })\r\n*/\r\n        /*\r\n                    const leerClientes = async () => {\r\n                        const params = {\r\n                            tipotercero: tipoTercero\r\n                        }\r\n        \r\n                        await axios({\r\n                            method: 'post',\r\n                            url: 'https://sitbusiness.co/cyclewear/api/114', params\r\n                        }).then(res => {\r\n                            console.log(\"RETORNA : \", res.data);\r\n                            if (res) {\r\n                                setListaTercerosCreados(res.data);\r\n                            }\r\n                            setLoading(false);\r\n                        }\r\n                        ).catch(function (error) {\r\n                            console.log(\"ERROR LEYENDO FACTURAS\");\r\n                        })\r\n                    }\r\n                    */\r\n        //setListaTercerosCreados(newDetCli[0]);\r\n        //console.log(\"NEW DET XXXX : \", newDetCli[0]);\r\n\r\n    }\r\n\r\n    const sleep = () => (\r\n        setTimeout(() => { console.log(\"Esperando!\") }, 100)\r\n    );\r\n\r\n    //const leerDatosFacturas = async () => {\r\n    const crearClientes = () => {\r\n        setLoading(true);\r\n        //console.log(\"TERCEROS CREADOS : \", listaTercerosCreados);\r\n        //console.log(\"FACTURAS LEIDAS : \", datosClientesFacturas);\r\n        setLoading(false)\r\n\r\n        setLoading(true);\r\n        const newDetCli = [];\r\n        if (!tipoTercero) {\r\n            swal(\r\n                \"CYCLE WEAR\",\r\n                \"Recuerda, debes ingresar el tipo de tercero!\",\r\n                \"warning\",\r\n                { button: \"Aceptar\" }\r\n            );\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        let longitud = datosClientesFacturas.length;\r\n        let contador = 0;\r\n\r\n        datosClientesFacturas && datosClientesFacturas.forEach((row) => {\r\n            const leerClientes = async () => {\r\n                const params = {\r\n                    tipotercero: tipoTercero,\r\n                    identificacion: row.identification\r\n                }\r\n                await axios({\r\n                    method: 'post',\r\n                    url: 'https://sitbusiness.co/cyclewear/api/102', params\r\n                }).then(res => {\r\n                    console.log(\"DATOS CLIENTE : \", res.data);\r\n                    if (res) {\r\n                        //setListaTercerosCreados(res.data);\r\n                    }\r\n                    setLoading(false);\r\n                }\r\n                ).catch(function (error) {\r\n                    console.log(\"ERROR LEYENDO FACTURAS\");\r\n                })\r\n            }\r\n            leerClientes()\r\n        });\r\n        //setCarrocerias(newDet);\r\n        return\r\n        for (var i = 0; i < 1; i++) {\r\n            contador = contador + 1;\r\n\r\n            const params = datosClientesFacturas[i];\r\n            console.log(\"PARAMETROS : \", params);\r\n\r\n            axios({\r\n                method: 'post',\r\n                url: 'https://sitbusiness.co/cyclewear/api/101', params\r\n            }).then(res => {\r\n\r\n                console.log(\"RESPONSE : \", res)\r\n\r\n                if (contador === longitud)\r\n                    setLoading(false);\r\n            }\r\n            ).catch(function (error) {\r\n                console.log(\"ERROR LEYENDO FACTURAS\");\r\n            })\r\n\r\n        }\r\n        //console.log(\"TOTAL CLIENTES : \", datosClientesFacturas)\r\n        //console.log(\"CONTADOR : \", contador, \" LONGITUD : \", longitud);\r\n    }\r\n\r\n    const handleChangeFecha = async (selectedOptions) => {\r\n        const newDet = [];\r\n        //console.log(\"FECHA : \", selectedOptions)\r\n        setFechaFacturas(selectedOptions)\r\n\r\n        let contador = 0;\r\n        lisPedidos && lisPedidos.map((facturas, index) => {\r\n            let item = {\r\n                id: facturas.id\r\n            };\r\n            newDet.push(item);\r\n        })\r\n        setDatos(newDet)\r\n        //console.log(\"PEDIDOS : \", newDet)\r\n    }\r\n\r\n    const handleChangeTipoTercero = async (selectedOptions) => {\r\n        setTipoTercero(selectedOptions)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {loading ? <Loading /> : null}\r\n            <br />\r\n            <div className='mb-30 ml-10'>\r\n                <Row>\r\n                    <Col xl={2} lg={2} md={2} xs={2}>\r\n                        <div className='tamañofuentetercero'>\r\n                            Tipo de Tercero:\r\n                        </div>\r\n                    </Col>\r\n                    <Col xl={3} lg={3} md={3} xs={3}>\r\n                        <div className=\"form-horizontal auth-form\">\r\n                            <div>\r\n                                <input\r\n                                    name=\"tipotercero\"\r\n                                    type=\"text\"\r\n                                    className=\"form-control\"\r\n                                    placeholder=\"Ingrese Tipo Tercero\"\r\n                                    id=\"exampleInputEmail12\"\r\n                                    onChange={(e) =>\r\n                                        handleChangeTipoTercero(\r\n                                            e.target\r\n                                                .value\r\n                                        )}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </Col>\r\n                    <Col xl={2} lg={2} md={2} xs={2}>\r\n                        <div className='tamañofuentetercero'>\r\n                            Fecha facturas:\r\n                        </div>\r\n                    </Col>\r\n                    <Col xl={3} lg={3} md={3} xs={3}>\r\n                        <div className=\"form-horizontal auth-form\">\r\n                            <div>\r\n                                <input\r\n                                    name=\"fecha\"\r\n                                    type=\"date\"\r\n                                    className=\"form-control\"\r\n                                    placeholder=\"Ingrese fecha\"\r\n                                    id=\"exampleInputEmail12\"\r\n                                    onChange={(e) =>\r\n                                        handleChangeFecha(\r\n                                            e.target\r\n                                                .value\r\n                                        )}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n\r\n            <hr />\r\n            <Row>\r\n                <Col xl={3} lg={3} md={3} xs={3}>\r\n\r\n                </Col>\r\n                <Col xl={3} lg={3} md={3} xs={3}>\r\n                    <button className='botoncrearcliente' color=\"primary\" >\r\n                        <ReactHTMLTableToExcel\r\n                            table=\"ubicacionesequipos\"\r\n                            filename=\"DatosClientesCWR\"\r\n                            sheet=\"Sheet\"\r\n                            buttonText=\"Exportar a Excel\"\r\n                        />\r\n                    </button>\r\n                </Col>\r\n\r\n                <Col xl={3} lg={3} md={3} xs={3}>\r\n                    <button className='botoncrearcliente' color=\"primary\" onClick={crearClientes}>\r\n                        Crear Clientes\r\n                    </button>\r\n                </Col>\r\n                <Col xl={3} lg={3} md={3} xs={3}>\r\n                    <button className='botoncrearcliente' color=\"primary\" onClick={validarDatos}>\r\n                        Validar Datos\r\n                    </button>\r\n                </Col>\r\n            </Row>\r\n            <hr />\r\n            {\r\n\r\n                <table id=\"ubicacionesequipos\" className=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>IDENTIFICACION</th>\r\n                            <th>FECHA</th>\r\n                            <th>NOMBRE</th>\r\n                            <th>APELLIDO</th>\r\n                            <th>EMAIL</th>\r\n                            <th>CIUDAD</th>\r\n                            <th>TELEFONO</th>\r\n                            <th>DIRECCION</th>\r\n                            <th>ESTADO</th>\r\n                            <th>TOTAL</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            datosClientesFacturas && datosClientesFacturas.map((facturas, index) => {\r\n                                return (\r\n                                    <tr>\r\n                                        <td>{facturas.identification}</td>\r\n                                        <td>{facturas.fechafactura}</td>\r\n                                        <td>{facturas.nombre}</td>\r\n                                        <td>{facturas.apellido}</td>\r\n                                        <td>{facturas.email}</td>\r\n                                        <td>{facturas.ciudad}</td>\r\n                                        <td>{facturas.telefono}</td>\r\n                                        <td>{facturas.direccion}</td>\r\n                                        <td>{facturas.estado}</td>\r\n                                        <td>{facturas.valor}</td>\r\n                                    </tr>\r\n                                )\r\n                            })\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ValidateThird;"]},"metadata":{},"sourceType":"module"}